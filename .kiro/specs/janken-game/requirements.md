# Requirements Document

## Project Description (Input)
じゃんけんゲーム

## Introduction
本ドキュメントは、カードベースのじゃんけんゲームの要件を定義します。プレイヤーとコンピュータが手札からカード（グー・チョキ・パー）を選択して対戦し、勝敗によってコインを獲得・喪失するゲームです。コインが0枚になるか、全手札を使い切った時点で勝敗が決定します。

詳細仕様: game_spec.md

## Requirements

### Requirement 1: ゲーム初期化
**Objective:** プレイヤーとして、ゲームを開始したい。そうすることで、公平な条件で対戦を始められる。

#### Acceptance Criteria
1. When ゲームが起動される, the じゃんけんゲームシステム shall 各プレイヤーに6枚の手札を配布する
2. The じゃんけんゲームシステム shall 手札をグー2枚・チョキ2枚・パー2枚で構成する
3. When ゲーム開始時, the じゃんけんゲームシステム shall 各プレイヤーに3枚のコインを配布する
4. The じゃんけんゲームシステム shall 空のデッキ（使用済カード置き場）を用意する
5. When 初期化が完了する, the じゃんけんゲームシステム shall ゲーム画面を表示する

### Requirement 2: 手札管理
**Objective:** プレイヤーとして、自分の手札を確認・管理したい。そうすることで、戦略的にカードを選択できる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall プレイヤーの未使用カードを手札として表示する
2. The じゃんけんゲームシステム shall 手札の各カード種類（グー・チョキ・パー）と枚数を視覚的に表示する
3. When カードが使用される, the じゃんけんゲームシステム shall そのカードを手札から削除する
4. The じゃんけんゲームシステム shall 相手の手札枚数を表示する
5. The じゃんけんゲームシステム shall 相手の手札の内容を非表示にする

### Requirement 3: カード選択
**Objective:** プレイヤーとして、手札からカードを選択して出したい。そうすることで、対戦に参加できる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall プレイヤーに手札から1枚のカードを選択させる
2. When プレイヤーがカードを選択する, the じゃんけんゲームシステム shall 選択されたカードを視覚的にハイライトする
3. When プレイヤーがカードを選択完了する, the じゃんけんゲームシステム shall コンピュータの手札から1枚をランダムに選択する
4. The じゃんけんゲームシステム shall 両者のカード選択が完了するまで次の処理に進まない
5. When 未使用カードが0枚, the じゃんけんゲームシステム shall カード選択を不可にする

### Requirement 4: カード公開と勝敗判定
**Objective:** システムとして、両者が選択したカードを公開し勝敗を判定したい。そうすることで、公平なゲーム進行を実現できる。

#### Acceptance Criteria
1. When 両者のカード選択が完了する, the じゃんけんゲームシステム shall 選択されたカードを同時に公開する
2. When プレイヤーがグーでコンピュータがチョキ, the じゃんけんゲームシステム shall プレイヤーの勝ちと判定する
3. When プレイヤーがチョキでコンピュータがパー, the じゃんけんゲームシステム shall プレイヤーの勝ちと判定する
4. When プレイヤーがパーでコンピュータがグー, the じゃんけんゲームシステム shall プレイヤーの勝ちと判定する
5. When 両者が同じカード, the じゃんけんゲームシステム shall 引き分けと判定する
6. When プレイヤーの勝ち条件に該当しない and 引き分けでもない, the じゃんけんゲームシステム shall コンピュータの勝ちと判定する
7. When 勝敗が判定される, the じゃんけんゲームシステム shall 結果を画面に表示する

### Requirement 5: コイン管理
**Objective:** システムとして、勝敗に応じてコインを移動させたい。そうすることで、ゲームの駆け引き要素を実現できる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall 各プレイヤーの現在のコイン数を表示する
2. When プレイヤーが勝利する, the じゃんけんゲームシステム shall コンピュータのコインを1枚減らす
3. When プレイヤーが勝利する, the じゃんけんゲームシステム shall プレイヤーのコインを1枚増やす
4. When コンピュータが勝利する, the じゃんけんゲームシステム shall プレイヤーのコインを1枚減らす
5. When コンピュータが勝利する, the じゃんけんゲームシステム shall コンピュータのコインを1枚増やす
6. When 引き分け, the じゃんけんゲームシステム shall コインを移動させない
7. If プレイヤーのコインが0枚未満になる, then the じゃんけんゲームシステム shall コイン数を0枚に設定する

### Requirement 6: デッキ管理
**Objective:** プレイヤーとして、使用済カードの状況を確認したい。そうすることで、残りの手札を戦略的に使用できる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall デッキ（使用済カード置き場）を画面に表示する
2. When カード対戦が終了する, the じゃんけんゲームシステム shall 両者の使用済カードをデッキに追加する
3. The じゃんけんゲームシステム shall デッキ内のカードを視覚的に表示する
4. The じゃんけんゲームシステム shall デッキ内のカード枚数を表示する
5. When ゲームがリセットされる, the じゃんけんゲームシステム shall デッキを空にする

### Requirement 7: ゲーム終了条件
**Objective:** システムとして、ゲームの終了条件を判定したい。そうすることで、明確な勝敗を決定できる。

#### Acceptance Criteria
1. When プレイヤーのコインが0枚になる, the じゃんけんゲームシステム shall プレイヤーの敗北と判定する
2. When コンピュータのコインが0枚になる, the じゃんけんゲームシステム shall プレイヤーの勝利と判定する
3. When 両者の手札が全て使用済になる and コインが0枚でない, the じゃんけんゲームシステム shall コイン数を比較する
4. When 全手札使用後にプレイヤーのコインが多い, the じゃんけんゲームシステム shall プレイヤーの勝利と判定する
5. When 全手札使用後にコンピュータのコインが多い, the じゃんけんゲームシステム shall コンピュータの勝利と判定する
6. When 全手札使用後にコイン数が同じ, the じゃんけんゲームシステム shall 引き分けと判定する
7. When ゲーム終了が判定される, the じゃんけんゲームシステム shall 最終結果画面を表示する

### Requirement 8: UI表示要件
**Objective:** プレイヤーとして、ゲーム状況を視覚的に把握したい。そうすることで、快適にゲームをプレイできる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall プレイヤーの手札を画面下部に表示する
2. The じゃんけんゲームシステム shall コンピュータの上半身の静止画を表示する
3. The じゃんけんゲームシステム shall デッキを画面中央に表示する
4. The じゃんけんゲームシステム shall 各プレイヤーのコイン数を常時表示する
5. The じゃんけんゲームシステム shall 対戦結果を明確に表示する
6. The じゃんけんゲームシステム shall ブラウザで動作する
7. When カードが選択される, the じゃんけんゲームシステム shall 選択されたカードを視覚的に強調表示する

### Requirement 9: ゲームリセット
**Objective:** プレイヤーとして、ゲームをリセットして新しい対戦を開始したい。そうすることで、繰り返しプレイできる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall リセットボタンを提供する
2. When リセットボタンが押される, the じゃんけんゲームシステム shall 両者の手札を初期状態（各種2枚）にリセットする
3. When リセットが実行される, the じゃんけんゲームシステム shall 両者のコインを3枚にリセットする
4. When リセットが実行される, the じゃんけんゲームシステム shall デッキを空にする
5. When リセット完了後, the じゃんけんゲームシステム shall 新しいゲームを開始できる状態にする

### Requirement 10: 拡張性要件
**Objective:** 開発者として、将来の機能拡張を容易にしたい。そうすることで、柔軟な開発が可能になる。

#### Acceptance Criteria
1. The じゃんけんゲームシステム shall 手札枚数を設定で変更可能な設計にする
2. The じゃんけんゲームシステム shall 初期コイン数を設定で変更可能な設計にする
3. The じゃんけんゲームシステム shall 対戦人数を将来的に拡張可能な設計にする
4. The じゃんけんゲームシステム shall MVPとしてブラウザ版を実装し、将来Rust/Tauriへの移行を考慮した設計にする
